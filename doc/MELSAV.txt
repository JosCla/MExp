.Load Save

Lbl LSAV {
    .Loads a save file
    .Directly returns the load status (0 good, higher bad)

    .Getting pointers to all save data
    GetCalc(Str1FEMAP)->EM
    GetCalc(Str1FCENT)->CE
    GetCalc(Str1FEPTR)->EP
    GetCalc(Str1FCSUM)->CS

    .Exiting if that failed
    !If EM?CE?EP?CS
        2Return
    End

    .Making sure the world file's checksum matches the save file's checksum
    CCSM()
    For(G,0,9)
        {S-10+G}->H
        If {CS+G}!=H
            4Return
        End
    End

    .Getting map dimensions
    {EM}->MW
    {EM+1}->MH

    .(return)
    0Return
}

Lbl LARC {
    .Loads archived files
    .Returns whether or not they could all be loaded (1 good, 0 bad)

    GetCalc(Str1FIMAP,Y_1)->G
    GetCalc(Str1FIDAT,Y_2)->H
    GetCalc(Str1FHMAP,Y_3)->I
    GetCalc(Str1FOMAP,Y_4)->J
    GetCalc(Str1FSTRS,Y_5)->K

    G?H?I?J?K
    Return
}
